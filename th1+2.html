<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>th1+2</title>
</head>

<body>
    <input type="text" id="inputPlayer" placeholder="Nhập vào tên cầu thủ">
    <input type="button" id="addPlayer" value="Thêm tên cầu thủ">
    <input type="button" id="clearPlayer" value="Xóa tất cả">
    <ul id="listPlayer"></ul>

    <script>

        let player = document.getElementById("inputPlayer");
        let control = document.getElementById("addPlayer");
        let listPlayer = document.getElementById("listPlayer");
        let clr = document.getElementById("clearPlayer");

        control.addEventListener("click", function (e) {
            localStorage.setItem(player.value, player.value);
            let liPlayer = document.createElement("li");
            let liText = document.createTextNode(player.value);
            liPlayer.appendChild(liText);

            let button = document.createElement("button");
            button.innerText = "Xóa";
            button.addEventListener("click", function () {
                localStorage.removeItem(button.previousSibling.textContent);
                button.parentNode.outerHTML = "";
            });
            liPlayer.appendChild(button);

            listPlayer.appendChild(liPlayer);
            player.value = "";
        });
        function getAllPlayers() {
            for (let index = 0; index < localStorage.length; index++) {
                let liPlayer = document.createElement("li");
                let liText = document.createTextNode(localStorage.key(index));
                liPlayer.appendChild(liText);

                let button = document.createElement("button");
                button.innerText = "Xóa";
                button.addEventListener("click", function () {
                    localStorage.removeItem(button.previousSibling.textContent);
                    button.parentNode.outerHTML = "";
                });
                liPlayer.appendChild(button);

                listPlayer.appendChild(liPlayer);
            }
        }


        clr.addEventListener("click", function () {
            localStorage.clear();
            listPlayer.innerHTML = "";
        });

        getAllPlayers();

    </script>
</body>

</html>